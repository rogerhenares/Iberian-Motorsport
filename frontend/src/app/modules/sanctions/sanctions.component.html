<div *ngIf="!sanctionsList?.length" style="width: 100%; color: #00EBB1">
    <span style="width: 100%;">There are no sanctions for this race.</span>
</div>
<table class="table" style="text-align: center; overflow-y: auto; max-height: 400px">
    <ng-container *ngIf="sanctionsList?.length">
        <thead class=" text-primary">
            <th class="teamHeader">NAME</th>
            <th class="lapHeader">LAP</th>
            <th class="penaltyHeader">PENALTY</th>
            <th class="reasonHeader">REASON</th>
            <th class="inGameHeader">IN GAME</th>
        </thead>

        <tbody>
            <ng-container *ngFor="let sanction of sortSanctionsByLapDescending(); let i = index">
                <tr [ngClass]="{'selected': isSanctionForLoggedUser(sanction)}">
                    <td class="posColumn" style="text-align: left" *ngIf="selectedChampionship.style === 'TEAM'">{{sanction.grid.teamName}}</td>
                    <td class="posColumn" style="text-align: left" *ngIf="selectedChampionship.style != 'TEAM'"><img style="height: 15px;" src="assets/flags/{{sanction?.grid.driversList[0].nationality.toLowerCase()}}.svg">&nbsp; {{sanction.grid.driversList[0].firstName}} {{sanction.grid.driversList[0].lastName}}</td>
                    <td class="lapColumn" style="text-align: left">{{sanction.lap}}</td>
                    <td class="penaltyColumn" style="text-align: left">{{sanction.penalty}}</td>
                    <td class="reasonColumn" style="text-align: left">{{sanction.reason}}</td>
                    <td class="inGameColumn" style="text-align: left">
                        <mat-checkbox [checked]="sanction.inGame" [disabled]="true"></mat-checkbox>
                    </td>
                    <td class="text-right">
                        <button class="btn btn-warning btn-sm" *ngIf="appContext.isAdmin()" (click)="editSanction(sanction.raceId, sanction.gridId, sanction)" style="color: black">Edit</button>
                        <button class="btn btn-danger btn-sm" *ngIf="appContext.isAdmin()" (click)="setSanctionId(sanction.id); deleteSanctionSwal.fire()" style="color: black">Delete</button>
                    </td>
                </tr>
            </ng-container>
        </tbody>
    </ng-container>
</table>
<div>
    <button *ngIf="appContext.isAdmin()" (click)="createNewSanction(selectedRace.id, selectedChampionship.id)" style=" align-items: end; color: black" class="btn btn-primary">New Sanction</button>
</div>

<swal
    #deleteSanctionSwal
    title="Delete Sanction?"
    text="This cannot be undone"
    icon="question"
    [showCancelButton]="true"
    [focusCancel]="true"
    (confirm)="deleteSanction()">
</swal>
